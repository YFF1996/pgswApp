{"version":3,"sources":["webpack:///C:/Users/tizi-05/Desktop/uni_app_pgsw/components/createShareSubjectImgTemplate/index.vue?3cec","webpack:///C:/Users/tizi-05/Desktop/uni_app_pgsw/components/createShareSubjectImgTemplate/index.vue?c184","webpack:///C:/Users/tizi-05/Desktop/uni_app_pgsw/components/createShareSubjectImgTemplate/index.vue?ded0","webpack:///C:/Users/tizi-05/Desktop/uni_app_pgsw/components/createShareSubjectImgTemplate/index.vue?9903","webpack:///C:/Users/tizi-05/Desktop/uni_app_pgsw/components/createShareSubjectImgTemplate/index.vue","webpack:///C:/Users/tizi-05/Desktop/uni_app_pgsw/components/createShareSubjectImgTemplate/index.vue?30b7","webpack:///C:/Users/tizi-05/Desktop/uni_app_pgsw/components/createShareSubjectImgTemplate/index.vue?ebb1"],"names":["coverArr","upyunUrl","data","avatarurl_x","avatarurl_y","avatar_x","avatar_y","avatarurl_width","avatarurl_heigth","thisQrUrl","thisAvatarUrl","thisCoverUrl","showState","currentIndex","onLoad","computed","methods","createShareArticleImgFn","index","wxGetImageInfo","wx","getImageInfo","src","then","res","ctx","createCanvasContext","aDrawingCardInfoFn","bDrawingCardInfoFn","hideLoading","save","drawImage","path","restore","beginPath","setTextAlign","setFillStyle","font","fillText","userInfo","nickname","arc","Math","PI","closePath","clip","setFontSize","drawText","item","title","fillRect","draw","str","leftWidth","initHeight","titleHeight","canvasWidth","lineWidth","lastSubStrIndex","i","length","measureText","width","substring","onSaveFn","that","getSetting","success","authSetting","authorize","scope","saveImageFn","fail","showModal","content","cancelText","cancelColor","confirmText","confirmColor","confirm","openSetting","_this","canvasToTempFilePath","canvasId","saveImageToPhotosAlbum","filePath","tempFilePath","showToast","icon","duration","setTimeout","manageImgFn","Promise","resolve","downloadFile","url","type","onCloseCircleFn","$emit","onSelectItemFn","components","SaveHint","watch","isShareCircleStatus","status","contentId","special_id","shareId","user_id","showLoading","getShareQrUrl","cover","avatarurl","props"],"mappings":"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","file":"components/createShareSubjectImgTemplate/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=3ba71460&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3ba71460&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ba71460\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3ba71460')) {\n      api.createRecord('3ba71460', component.options)\n    } else {\n      api.reload('3ba71460', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=3ba71460&scoped=true&\", function () {\n      api.rerender('3ba71460', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/tizi-05/Desktop/uni_app_pgsw/components/createShareSubjectImgTemplate/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=3ba71460&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState, mapActions } from 'vuex'\nimport { promisify } from '../../utils/promise.util'\nimport SaveHint from '../savePictureHintTemplate'\nimport { upyunUrl } from '../../api/config'\n\nconst coverArr = [upyunUrl + '/wxXcxImg/images/share-card01.png', upyunUrl + '/wxXcxImg/images/share-card02.png']\n\nexport default {\n  data () {\n    return {\n      upyunUrl,\n      avatarurl_x: 26, // 绘制的头像在画布上的X位置\n      avatarurl_y: 148, // 绘制的头像在画布上的Y位置\n      avatar_x: 30, // 分享卡2绘制的头像在画布上的X位置\n      avatar_y: 53, // 分享卡2绘制的头像在画布上的Y位置\n      avatarurl_width: 35, // 绘制的头像宽度\n      avatarurl_heigth: 35, // 绘制的头像高度\n      thisQrUrl: '',\n      thisAvatarUrl: '',\n      thisCoverUrl: '',\n      showState: true,\n      currentIndex: 0\n    }\n  },\n  onLoad () { this.currentIndex = 0 },\n  computed: {\n    ...mapState([\n      'userInfo'\n    ])\n  },\n  methods: {\n    ...mapActions([\n      'getShareQrUrl'\n    ]),\n    // 开始绘画分享卡\n    createShareArticleImgFn () {\n      const index = this.currentIndex\n      const wxGetImageInfo = promisify(wx.getImageInfo)\n\n      wxGetImageInfo({\n        src: coverArr[index]\n      }).then(res => {\n        const ctx = wx.createCanvasContext('shareCanvas')\n\n        switch (index) {\n          case 0:\n            this.aDrawingCardInfoFn(ctx, res)\n            break\n          case 1:\n            this.bDrawingCardInfoFn(ctx, res)\n            break\n          default:\n            return false\n        }\n\n        wx.hideLoading()\n      })\n    },\n    // 绘画分享卡信息\n    aDrawingCardInfoFn (ctx, res) {\n      // 绘制背景图片\n      ctx.save()\n      ctx.drawImage(res.path, 0, 0, 307, 530)\n      ctx.restore()\n      // 绘制头像\n      ctx.save()\n      ctx.beginPath()\n      ctx.setTextAlign('left')\n      ctx.setFillStyle('#000')\n      ctx.font = 'bold 13px normal'\n      ctx.fillText(this.userInfo.nickname, 74, 162)\n      ctx.arc(this.avatarurl_width / 2 + this.avatarurl_x, this.avatarurl_heigth / 2 + this.avatarurl_y, this.avatarurl_width / 2, 0, Math.PI * 2, false)\n      ctx.closePath()\n      ctx.clip()\n      ctx.drawImage(this.thisAvatarUrl, this.avatarurl_x, this.avatarurl_y, this.avatarurl_width, this.avatarurl_heigth)\n      ctx.restore()\n      // 引导语\n      ctx.save()\n      ctx.setFontSize(11)\n      ctx.setTextAlign('left')\n      ctx.setFillStyle('#999')\n      ctx.fillText('邀请你来学习更多知识', 74, 179)\n      ctx.restore()\n      // 绘制标题\n      ctx.save()\n      ctx.setTextAlign('left')\n      ctx.setFillStyle('#000')\n      ctx.font = 'bold 15px normal'\n      this.drawText(ctx, this.item.title, 26, 210, 148, 250)\n      ctx.restore()\n      // 绘制封面\n      ctx.save()\n      ctx.setFillStyle('#ffd2d2')\n      ctx.fillRect(93, 255, 124, 124)\n      ctx.drawImage(this.thisCoverUrl, 96, 258, 118, 118)\n      ctx.restore()\n      // 绘制二维码\n      ctx.save()\n      ctx.drawImage(this.thisQrUrl, 210, 412, 70, 70)\n      ctx.setFontSize(12)\n      ctx.setTextAlign('center')\n      ctx.setFillStyle('#fff')\n      ctx.fillText('瓶盖思维', 148, 516)\n\n      ctx.draw()\n    },\n    bDrawingCardInfoFn (ctx, res) {\n      // 绘制背景图片\n      ctx.save()\n      ctx.drawImage(res.path, 0, 0, 307, 530)\n      ctx.restore()\n      // 绘制头像\n      ctx.save()\n      ctx.beginPath()\n      ctx.setTextAlign('left')\n      ctx.setFillStyle('#000')\n      ctx.font = 'bold 13px normal'\n      ctx.fillText(this.userInfo.nickname, 77, 67)\n      ctx.arc(this.avatarurl_width / 2 + this.avatar_x, this.avatarurl_heigth / 2 + this.avatar_y, this.avatarurl_width / 2, 0, Math.PI * 2, false)\n      ctx.closePath()\n      ctx.clip()\n      ctx.drawImage(this.thisAvatarUrl, this.avatar_x, this.avatar_y, this.avatarurl_width, this.avatarurl_heigth)\n      ctx.restore()\n      // 引导语\n      ctx.save()\n      ctx.setFontSize(11)\n      ctx.setTextAlign('left')\n      ctx.setFillStyle('#999')\n      ctx.fillText('邀请你来学习更多知识', 77, 84)\n      ctx.restore()\n      // 绘制音频封面\n      ctx.save()\n      ctx.drawImage(this.thisCoverUrl, 87, 105, 133, 133)\n      ctx.restore()\n      // 绘制标题\n      ctx.save()\n      ctx.setTextAlign('left')\n      ctx.setFillStyle('#000')\n      ctx.font = 'bold 15px normal'\n      this.drawText(ctx, this.item.title, 30, 270, 168, 240)\n      ctx.restore()\n      // 绘制二维码\n      ctx.save()\n      ctx.setFillStyle('#fff')\n      ctx.fillRect(205, 377, 76, 76)\n      ctx.drawImage(this.thisQrUrl, 208, 380, 70, 70)\n\n      ctx.draw()\n    },\n    drawText (ctx, str, leftWidth, initHeight, titleHeight, canvasWidth) {\n      let lineWidth = 0\n      let lastSubStrIndex = 0\n      for (let i = 0; i < str.length; i++) {\n        lineWidth += ctx.measureText(str[i]).width\n        if (lineWidth > canvasWidth) {\n          ctx.fillText(str.substring(lastSubStrIndex, i), leftWidth, initHeight)\n          initHeight += 20\n          lineWidth = 0\n          lastSubStrIndex = i\n          titleHeight += 30\n        }\n        if (i === str.length - 1) ctx.fillText(str.substring(lastSubStrIndex, i + 1), leftWidth, initHeight)\n      }\n      titleHeight = titleHeight + 10\n      return titleHeight\n    },\n    // 授权保存图片\n    onSaveFn () {\n      let that = this\n      wx.getSetting({\n        success (res) {\n          if (!res.authSetting['scope.writePhotosAlbum']) {\n            wx.authorize({\n              scope: 'scope.writePhotosAlbum',\n              success () {\n                that.saveImageFn()\n              },\n              fail () {\n                wx.showModal({\n                  title: '提示',\n                  content: '你点击了拒绝授权，将无法保存图片，请先同意授权。',\n                  cancelText: '拒绝',\n                  cancelColor: '#999',\n                  confirmText: '同意',\n                  confirmColor: '#ff6464',\n                  success (res) {\n                    if (res.confirm) {\n                      wx.openSetting({\n                        success () {\n                          that.saveImageFn()\n                        }\n                      })\n                    }\n                  }\n                })\n              }\n            })\n          } else {\n            that.saveImageFn()\n          }\n        }\n      })\n    },\n    // 保存图片\n    saveImageFn () {\n      const _this = this\n      wx.canvasToTempFilePath({\n        canvasId: 'shareCanvas',\n        success (res) {\n          wx.saveImageToPhotosAlbum({\n            filePath: res.tempFilePath,\n            success () {\n              wx.showToast({\n                title: '图片保存中...',\n                icon: 'loading',\n                duration: 1000\n              })\n              setTimeout(() => {\n                _this.showState = false\n              })\n            },\n            fail () {\n              wx.showToast({\n                title: '图片保存失败',\n                icon: 'loading',\n                duration: 1000\n              })\n            }\n          })\n        }\n      })\n    },\n    // 将网络路径转成临时路径\n    manageImgFn (data) {\n      return new Promise((resolve) => {\n        wx.downloadFile({\n          url: data.url,\n          success: res => {\n            if (data.type === 'cover') this.thisCoverUrl = res.tempFilePath\n            if (data.type === 'avatar') this.thisAvatarUrl = res.tempFilePath\n            if (data.type === 'qr') {\n              this.thisQrUrl = res.tempFilePath\n              resolve()\n            }\n          }\n        })\n      })\n    },\n    // 关闭生成朋友圈页面\n    onCloseCircleFn () {\n      this.$emit('closeCircleChild', false)\n      this.currentIndex = 0\n    },\n    // 选择分享卡\n    onSelectItemFn (index) {\n      this.currentIndex = index\n      this.createShareArticleImgFn()\n    }\n  },\n  components: {\n    SaveHint\n  },\n  watch: {\n    isShareCircleStatus (status) {\n      if (status) {\n        this.showState = true\n        const data = {\n          that: this,\n          contentId: this.special_id,\n          shareId: this.userInfo.user_id,\n          path: 'pages/subjectDetailsPage/main'\n        }\n        wx.showLoading({ title: '生成中...' })\n        this.getShareQrUrl(data).then((res) => {\n          this.manageImgFn({ url: this.item.cover, type: 'cover' })\n          this.manageImgFn({ url: this.userInfo.avatarurl, type: 'avatar' })\n          this.manageImgFn({ url: res, type: 'qr' }).then(() => {\n            this.createShareArticleImgFn()\n          })\n        })\n      }\n    }\n  },\n  props: ['item', 'special_id', 'isShareCircleStatus']\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--11-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=3ba71460&lang=stylus&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--11-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=3ba71460&lang=stylus&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}