<block wx:if="{{oJson&&upyunUrl}}"><view class="buy-wrapper _div data-v-24a11fda"><view class="buy-content _div data-v-24a11fda"><view class="cover _div data-v-24a11fda"><image mode="aspectFill" src="{{oJson.cover}}" class="data-v-24a11fda"></image></view><view class="info _div data-v-24a11fda"><view class="title _div data-v-24a11fda">{{oJson.title||oJson.name}}</view><view class="price _div data-v-24a11fda"><view class="icon _div data-v-24a11fda">￥</view>{{oJson.price}}</view></view></view><block wx:if="{{userInfo.account&&userInfo.account.balance>0}}"><view data-event-opts="{{[['tap',[['onSelectBalanceFn']]]]}}" class="buy-type _div data-v-24a11fda" bindtap="__e"><view class="left _div data-v-24a11fda">账户余额</view><view class="right _div data-v-24a11fda"><view class="price _div data-v-24a11fda">{{"¥"+userInfo.account.balance}}</view><view class="icon _div data-v-24a11fda"><block wx:if="{{isBalance===0}}"><image src="{{upyunUrl+'/wxXcxImg/images/selected-icon.png'}}" class="data-v-24a11fda"></image></block><block wx:if="{{isBalance===1}}"><image src="{{upyunUrl+'/wxXcxImg/images/selected-icon-active.png'}}" class="data-v-24a11fda"></image></block></view></view></view></block><view class="buy-handle _div data-v-24a11fda"><view class="info _div data-v-24a11fda"><view class="item _div data-v-24a11fda"><view class="text title _div data-v-24a11fda">{{(oJson.buy_type==='consulting'?'咨询':'课程')+"价格"}}</view><view class="text _div data-v-24a11fda">{{"¥"+oJson.price}}</view></view><block wx:if="{{isBalance===1&&userInfo.account&&userInfo.account.balance<oJson.price}}"><view class="item _div data-v-24a11fda"><view class="text title _div data-v-24a11fda">支付金额</view><view class="text _div data-v-24a11fda">{{"¥"+userInfo.account.balance}}</view></view></block></view><view class="buy-btn _div data-v-24a11fda"><block wx:if="{{isBalance===1&&userInfo.account.balance<oJson.price}}"><view class="text _div data-v-24a11fda">{{"实支付：¥"+spread}}</view></block><block wx:else><view class="text _div data-v-24a11fda">{{"实支付：¥"+oJson.price}}</view></block><block wx:if="{{isBalance===0||isBalance===1&&userInfo.account.balance<oJson.price}}"><view data-event-opts="{{[['tap',[['getPayInfoFn']]]]}}" class="btn _div data-v-24a11fda" bindtap="__e">微信支付</view></block><block wx:if="{{isBalance===1&&userInfo.account.balance>=oJson.price}}"><view data-event-opts="{{[['tap',[['onBalancePayFn']]]]}}" class="btn _div data-v-24a11fda" bindtap="__e">余额支付</view></block></view></view><block wx:if="{{isCustomPasswordBox}}"><view data-event-opts="{{[['tap',[['onClosePassWordFn',[false]]]]]}}" class="custom-password-wrapper _div data-v-24a11fda" bindtap="__e"><view class="password-box _div data-v-24a11fda"><view class="close-btn _div data-v-24a11fda"><image src="{{upyunUrl+'/wxXcxImg/images/close-btn.png'}}" class="data-v-24a11fda"></image></view><view class="title _div data-v-24a11fda">请输入支付密码</view><view class="password-content _div data-v-24a11fda"><view class="price _div data-v-24a11fda">{{"¥"+oJson.price}}</view><view class="input-box _div data-v-24a11fda"><view class="input-box-ul _div data-v-24a11fda"><block wx:for="{{pasLists}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['item _div data-v-24a11fda',(item.mark)?'active':'']}}"><view class="dot _div data-v-24a11fda"></view></view></block></view></view></view></view><input type="number" maxlength="6" focus="{{focusState}}" data-event-opts="{{[['input',[['__set_model',['','passwordVal','$event',[]]]]]]}}" value="{{passwordVal}}" bindinput="__e" class="data-v-24a11fda"/></view></block></view></block>